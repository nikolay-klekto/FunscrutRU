# fs-platform-ru

## Setup IDEA

### Settings

Import shared IDF company settings from repository: https://github.com/nikolay-klekto/fs-idea-settings

1. Navigate to `File`->`Manage IDE Settings`->`Settings Repository`
2. Paste HTTPS repository url to `Upstream URL` field
3. Press button `Overwrite Local`

These settings contain common code style, etc.

### Required actions before commit

Enable checkboxes for each commit:

- `Reformat code`
- `Optimize imports`
- `Check TODO`

`Analyze code` checkbox still not required because used Sonar version no longer compatible with the latest versions of
IDEA.

![req-actions-before-commit](/home/nikolay/IdeaProjects/FunscrutRU/fs-platform-ru/docs/img/req-actions-before-commit.png)

## Development flow

`master` branch is assumed as stable branch and ready to delivery at any time.  
Commits to `master` branch is not permitted.  
Each change must be implemented via `pull request`.

CI tool triggers build for each PR and `master` branch.  
CI tool analyses PR name and commit messages and automatically generates version for artifacts publication.  

[//]: # (Any PR must be verified on test environment before merging it in `master` branch. You can deploy features from PR using)

[//]: # (autogenerated artifact version.)

[//]: # ()
[//]: # (CI: https://jenkins.moneyman.ru/view/MM%20Platform/job/mm-platform-run-ci)

## Commit message and PR name conventions

Follow conventions for commit message and PR name: https://www.conventionalcommits.org .

Don't paste full ticket name to commit message.  
Just paste ticket number and short description what was implemented in commit.   
Details optionally can be added below commit message after one empty line:

```
feat(registration-gateway): FSRU-53 add action to create user account

Usefull details here.
Can be multiline.
```

`Revert` commit message must look as:

```
revert: feat(registration-gateway): FSRU-53 add action to create user account
```

If changes in commit break some functionality and teammates should keep attention on these changes then add special
words `BREAKING CHANGE:` to commit message:

```
feat(registration-gateway): BREAKING CHANGE: FSRU-53 add action to create user account
```
